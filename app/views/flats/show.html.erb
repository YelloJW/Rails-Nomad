
<div class="container mt-3 shadow rounded">
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <% if @flat.photo.attachment %>
          <%= cl_image_tag @flat.photo.key, alt: "First slide", class: "d-block w-100" %>
          <% else %>
          <img class="d-block w-100" src="https://images.unsplash.com/photo-1489421382202-f7ec0cfd96f7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="First slide">
        <% end %>
      </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="https://images.unsplash.com/photo-1489421382202-f7ec0cfd96f7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="https://images.unsplash.com/photo-1475260151973-4b51c9c9af2d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1352&q=80" alt="Second slide">
        </div>
    </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
  </div>

    <div class="w-100 mt-3">
      <div class="d-flex justify-content-between">
        <h1><%= @flat.name %></h1>
            <!--  edit & delete buttons -->
        <div class="d-flex">
          <%= link_to "Edit", edit_flat_path(@flat), class: "btn btn-flat mr-2" %>
          <%= link_to "Delete", flat_path(@flat), method: :delete,
          data: { confirm: "Are you sure?" }, class: "btn btn-danger"  %>
        </div>
      </div>

      <h4><%= @flat.address %></h4>
      <h4>Host: <%= @flat.user.first_name %></h4>

      <!-- icons -->
      <div id="icons" class="d-flex justify-content-around align-items my-3 w-100">
        <div><i class="fas fa-campground"></i><p><%= @flat.flat_type %></p></div>
        <div><i class="fas fa-bed"></i><p><%= @flat.sleeps %></p></div>
        <div><i class="fas fa-euro-sign"></i>/night<p><%= @flat.price_per_night %></p></div>
        <div><i class="fas fa-bolt"></i><p><%= @flat.electricity %></p></div>
        <div><i class="fas fa-tint"></i><p><%= @flat.drinking_water %></p></div>
      </div>

      <h3><%= @flat.description %></h3>
      <p><%= @flat.details %></p>
    </div>

    <div>
      <% if user_signed_in? %>
      <%= render 'bookings/new', { flat: @flat, booking: Booking.new} %>
        <% else %>
         <button name="login" type="button" class="btn btn-light nomad-button" data-toggle="modal" data-target="#loginModal">Login to book
                </button>
      <% end %>
    </div>
</div>
